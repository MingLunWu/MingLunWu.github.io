<!DOCTYPE html>
<!--[if lt IE 9 ]><html class="no-js oldie" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
        <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <!--
    <meta name="description" content="">
    <meta name="author" content="">
    -->
    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="https://minglunwu.com/theme/css/base.css">
    <!--<link rel="stylesheet" href="https://minglunwu.com/theme/css/vendor.css">-->
    <link rel="stylesheet" href="https://minglunwu.com/theme/css/main.css">
    <link rel="stylesheet" href="https://minglunwu.com/theme/css/styles.css">

    <!-- script
    ================================================== -->
    <script src="https://minglunwu.com/theme/js/modernizr.js"></script>
    <script src="https://minglunwu.com/theme/js/pace.min.js"></script>
    <!--<script src="https://kit.fontawesome.com/968a4ded4c.js" crossorigin="anonymous"></script>-->

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="https://minglunwu.com/theme/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://minglunwu.com/theme/favicon.ico" type="image/x-icon">

    <title>Fast API 入門筆記 (二) - Typing Hint & Async</title>
    <meta property="og:title" content="Fast API 入門筆記 (二) - Typing Hint & Async">
    <meta name="description" content="<p>Typing Hint 及 Async 機制是 FastAPI的重要特色。</p>">
    <meta property="og:description" content="<p>Typing Hint 及 Async 機制是 FastAPI的重要特色。</p>">
    <meta name="author" content="MingLun Allen Wu">
    <meta property="og:image" content="https://images.unsplash.com/reserve/oGLumRxPRmemKujIVuEG_LongExposure_i84.jpeg?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1353&q=80">
    
    <link rel="image_src" type="image/jpeg" href="https://images.unsplash.com/reserve/oGLumRxPRmemKujIVuEG_LongExposure_i84.jpeg?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1353&q=80" />
    <style>
        img{
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body id="top">
            <!-- header
    ================================================== -->
    <header class="s-header">

        <div class="header-logo">
            <a class="site-logo" href="https://minglunwu.com"><img src="https://minglunwu.com/theme/images/logo.png" width="160" height="56" alt="Homepage"></a>
        </div>

        <nav class="header-nav-wrap">
            <ul class="header-nav">
                <li class="current"><a href="https://minglunwu.com/#home" title="home">Home</a></li>
                <li><a href="https://minglunwu.com/#about" title="about">About</a></li>
                <li><a href="https://minglunwu.com/#blog" title="blog">Blogs</a></li>
                <li><a href="https://minglunwu.com/#note" title="note">Notes</a></li>
                <!--<li><a class="smoothscroll" href="#note" title="notes">Notes</a></li>-->
                <!--<li><a class="smoothscroll"  href="#contact" title="contact">Contact</a></li>-->
            </ul>
        </nav>

        <a class="header-menu-toggle" href="#0"><span>Menu</span></a>

    </header> <!-- end s-header -->

        <article class="blog-single">

            <!-- page header/blog hero
            ================================================== -->
            <div class="page-header page-header--single page-hero" style="background-image:url(https://images.unsplash.com/reserve/oGLumRxPRmemKujIVuEG_LongExposure_i84.jpeg?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1353&q=80)">
            
                <div class="row page-header__content narrow">
                    <article class="col-full">
                        <div class="page-header__info">
                            <div class="page-header__cat">
                                    <a href="#0">Fast API</a>
                                    <a href="#0">WSGI</a>
                            </div>
                        </div>
                        <h1 class="page-header__title">
                            <a href="#0" title="">
                                Fast API 入門筆記 (二) - Typing Hint & Async
                            </a>
                        </h1>
                        <ul class="page-header__meta">
                            <li class="date">2021-May-08 (Sat)</li>
                            <li class="author">
                                By
                                <span>MingLun Allen Wu</span>
                            </li>
                            <li> views</li>
                        </ul>
                        
                    </article>
                </div>
        
            </div> <!-- end page-header -->
    
            <div class="row blog-content">
                <div class="col-full blog-content__main">
                    
                    <p>重溫舊夢： <a href="https://minglunwu.github.io/notes/2021/fast_api_note_1.html">Fast API 入門筆記(一) - 基本介紹</a></p>
<h1>Typing Hints</h1>
<p>接續上一則筆記，我們繼續探討 <code>Typing Hint</code> 這個 <code>FastAPI</code> 特別著重的特點：</p>
<p>在實作上，Typing Hint其實意味著:</p>
<blockquote>
<p>在定義函式的參數時，連同型態一併定義</p>
</blockquote>
<p>看看下面這個例子：</p>
<div class="highlight"><pre><span></span><span class="c1"># 沒有實作 typing hint</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">) </span>
<span class="k">def</span> <span class="nf">read_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span> <span class="c1"># 只放變數名稱</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">}</span>

<span class="c1"># 實作 typing hint</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">) </span>
<span class="k">def</span> <span class="nf">read_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span> <span class="c1"># 除了變數名稱，還設定變數的型態</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="n">q</span><span class="p">}</span>
</pre></div>


<p>實作 <code>Typing Hint</code>後，在定義參數時需額外加上變數的型態 (<code>user_id</code> 後面會加上<code>int</code>)，加上這些型態有幾項好處:</p>
<h3>1. Error Checks, Completion</h3>
<blockquote>
<p>撰寫程式時檢查變數格式、自動補齊</p>
</blockquote>
<p>這些功能並非 <code>FastAPI</code> 提供，在驗證變數型態時，主要是透過<a href="https://pydantic-docs.helpmanual.io">Pydantic</a>來處理，所使用的變數型態都是Python原生的型態別，只需要在撰寫Function時加上變數型態即可。</p>
<p>當你遵照 Python 的<code>Typing Hint</code>時，就能搭配IDE的工具來協助開發，避免語法上的錯誤或是設計時的遺漏。</p>
<p>舉例來說，撰寫Typing Hint後，就能透過VScode的Extension快速產生註解的Template，很好用：</p>
<p><img style="display:block; margin-left:auto; margin-right:auto; width:100%;" src="https://minglunwu.github.io/images/20210120/auto_doc.png">
(根據定義的變數型態，自動產生註解的模板，大部分資訊都自動產生，開發者只需要填寫部分區塊即可，且模板的樣式可以自由選擇。)</p>
<p>在編寫程式時，儘管編譯器 <strong>「不知道」</strong> 這個函式的回傳內容是什麼，但是因為你已經事先定義這個回傳的「型態」，所以編譯器還是能夠提供當前這個型態可用的函式讓你使用.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span> <span class="nf">get_current_date</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span> <span class="c1"># 此處定義了此函式的回傳結果是datetime</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_current_date_error</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span> <span class="c1"># 此處定義了此函式的回傳結果是datetime</span>
    <span class="k">return</span> <span class="s2">&quot;2021-05-08&quot;</span> <span class="c1"># 此處編譯器會跳出提醒訊息 (回傳結果應該要是datetime，但你回傳了str，是不是想搞事？)</span>

<span class="n">current_date</span> <span class="o">=</span> <span class="n">get_current_date</span><span class="p">()</span>
</pre></div>


<p>上面這段程式碼可以做到兩件事情： </p>
<ol>
<li>
<p><strong>開發時的型態檢查</strong>: </p>
<p>在定義 <code>get_current_date_error()</code>時，我們順帶定義了回傳格式必須是 <code>datetime</code>，但是在function內部return時卻回傳了 <code>str</code> 格式，這時候編譯器能夠偵測到這裡有壞味道，並且提醒你。
<img style="display:block; margin-left:auto; margin-right:auto; width:100%;" src="https://minglunwu.github.io/images/20210120/type_detect.png"></p>
</li>
<li>
<p><strong>函式智能感知(Intellisense)</strong>:</p>
<p>開發時自動提供可用的函式或是物件，以上方程式碼為例， <code>current_date</code>在沒有執行時，編譯器只知道它是個「變數」，沒辦法提供什麼建議。</p>
<p>但是實作 <code>Typing Hint</code>後，編譯器知道這個變數是從 <code>get_current_date()</code>來的，而此函式的回傳結果是 <code>datetime</code>格式，所以當我們鍵入 <code>current_date</code>時，編譯器就能提供 <code>datetime</code>型態可用的函式供我們選用。</p>
<p><img style="display:block; margin-left:auto; margin-right:auto; width:100%;" src="https://minglunwu.github.io/images/20210120/intellisense.png"></p>
</li>
</ol>
<h3>2.Data Conversion</h3>
<blockquote>
<p>自動將Request所夾帶的參數轉換(cast)為指定的格式</p>
</blockquote>
<p>以下圖的API為例:</p>
<div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/users/</span><span class="si">{user_id}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">read_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">}</span>
</pre></div>


<p>如果此時我們傳送了 <code>127.0.0.1:8080/users/3</code> Request至Server，我們將會得到以下的回傳：</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
</pre></div>


<p>發現了嗎？ user_id 的 value 是 <code>3</code> 而不是 <code>"3"</code>，原先在Request所夾帶的參數是<strong>字串</strong>格式，但是在設計函式時已經將 <code>user_id</code> 設定為 <strong>整數</strong>，所以 <code>FastAPI</code> 會在處理過程中自動轉換格式。</p>
<h3>3. Data Validation</h3>
<blockquote>
<p>檢查變數型態，若不符合，回傳「結構化」的錯誤訊息</p>
</blockquote>
<p>如果此時發生了「無法轉換」的狀況呢？</p>
<p>例如傳送了: <code>127.0.0.1:8080/users/test</code> Request， "test"是沒有辦法轉換成整數的，此時就會發生錯誤， <code>FastAPI</code>將會回傳錯誤訊息。</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;detail&quot;</span><span class="p">:[{</span><span class="nt">&quot;loc&quot;</span><span class="p">:[</span><span class="s2">&quot;path&quot;</span><span class="p">,</span><span class="s2">&quot;user_id&quot;</span><span class="p">],</span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;type_error.integer&quot;</span><span class="p">}]}</span>
</pre></div>


<p>回傳的格式是 Json 格式，意味著能夠判斷問題及預先處理，而不是如同 <code>Flask</code> 的 <strong>500 Internal Server Error</strong></p>
<hr>
<h1>FastAPI 實作</h1>
<h2>1. Import and Create Instance</h2>
<p>使用 pip 安裝 fastapi 後，就可以直接Import，並且建立 <code>FastAPI</code> 的Instance</p>
<div class="highlight"><pre><span></span><span class="hll"><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>
</span>
<span class="hll"><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">}</span>
</pre></div>


<h2>2. 定義 API 路徑</h2>
<p><code>FastAPI</code> 與 <code>Flask</code> 最大的差異在於定義 API 時，如何宣告使用的方法: </p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="hll"><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
</span><span class="k">async</span> <span class="k">def</span> <span class="nf">root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">}</span>
</pre></div>


<p><code>FastAPI</code> 在定義 API 時，透過 <code>@app.[方法](路徑)</code> 來決定，這點與 <code>Flask</code> 有點差異，但我自己覺得較直覺(也較符合Restful API的架構)，常見的HTTP Request 方法包含: </p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">FastAPI 語法</th>
<th align="center">使用情境</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">POST</td>
<td align="center">app.post(路徑)</td>
<td align="center">建立資料</td>
</tr>
<tr>
<td align="center">GET</td>
<td align="center">app.get(路徑)</td>
<td align="center">取得資料</td>
</tr>
<tr>
<td align="center">PUT</td>
<td align="center">app.put(路徑)</td>
<td align="center">更新資料</td>
</tr>
<tr>
<td align="center">DELETE</td>
<td align="center">app.delete(路徑)</td>
<td align="center">刪除資料</td>
</tr>
</tbody>
</table>
<h2>3. 定義 Function</h2>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="nd">@app.get</span><span class="p">(</span><span class="s2">&quot;/hello_world&quot;</span><span class="p">)</span>
<span class="n">async</span> <span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">}</span>
</pre></div>


<p>定義 API 路徑後，接下來必須設計一個Function，當<code>FastAPI</code> 收到 <code>GET</code> 形式的 <code>/hello_world</code> 請求時，將會執行這個Function.</p>
<p>這個Function 可以是 <code>async function</code> 或是 普通的 Function.</p>
<p>先暫停在這裏，何謂 Async Function?</p>
<hr>
<h2>Async Function</h2>
<p>全名是 <code>Asynchronize (非同步) Function</code>，是在近期的Python中才出現的功能。</p>
<p>概念上： <strong>執行任務的過程中，有些任務不需要「計算」，例如讀取檔案、讀寫資料庫、呼叫別人的API，等待回應)時，在等待這些任務完成時，電腦的計算力是閒置的，可以先去做別的事情，等到其他任務完成，再回來繼續處理。</strong></p>
<p>相對於 <code>Asynchronize</code> (非同步)，較常見的稱為 <code>Synchronize</code>(同步)或稱為 <code>Sequential</code> (線性)，我們舉個真實世界的例子來說明兩者的差異，假設今天我們要到速食店點餐：</p>
<ul>
<li><code>Sequential</code>: 我們看完菜單後向櫃檯人員點餐，點餐後後台開始製作餐點，這時候我們跟櫃檯人員大眼瞪小眼，也不做任何事情，靜靜地注視著彼此，直到餐點製作完成，櫃檯人員將餐點遞給你，開始享用美味的餐點。</li>
</ul>
<blockquote>
<p>同步處理在閒置時，只能持續等待到任務完成</p>
</blockquote>
<p><img style="display:block; margin-left:auto; margin-right:auto; width:50%;" src="https://memeprod.sgp1.digitaloceanspaces.com/user-wtf/1609854630254.jpg"></p>
<ul>
<li><code>Asynchronize</code>: 我們看完菜單後向櫃檯人員點餐，點餐後後台開始製作餐點，我們拿到了一張號碼牌，我們開始滑手機，看看等等吃飽後要去哪裡吃甜點，當叫號聲響起時，發現是我們的餐點好了，這時候把手機收起來，前往領取餐點，開始享用美味的餐點。</li>
</ul>
<blockquote>
<p>非同步處理在閒置時，可以將注意力轉移到其他事情上</p>
</blockquote>
<p>非同步處理相當適合 Web Application的情境，在處理Request時，常需要跟DB或是其他API進行互動，等待的過程中會有許多「閒置」時間，在電腦的世界裡雖然都只需幾毫秒的等待，但是當同時有許多Request時，省下來的時間就相當可觀了。</p>
<p>這也是 <code>FastAPI</code> 與 <code>Flask</code> 最大的差別，在 <code>Flask</code> 出現時，Python還沒有支援異步處理的功能， <code>Flask</code> 要上線時，通常會再加上WSGI (Web Service Gateway Interface) Server來增加服務的穩定性及速度，常見的 WSGI Server 是 <code>gunicorn</code>。</p>
<p>而 <code>FastAPI</code> 採用的則是 ASGI Server (Asynchronize Service Gateway Interface) - <code>uvicorn</code>，在處理任務時透過 Asynchronize的概念來提高執行的效率。</p>
<p>對於 WSGI Server 及 <code>gunicron</code> 有興趣的朋友，歡迎造訪我先前寫的另一篇文章:</p>
<p><a href="https://minglunwu.github.io/notes/2021/flask_plus_wsgi.html">Flask 想上線？ 你還需要一些酷東西</a></p>
<p>在試圖了解 Asynchronize的過程中，我常常會將其與 <code>Concurrency</code>, <code>Parallelism</code>搞混，相當推薦大家閱讀 FastAPI 官方對於 Async 的說明: </p>
<p><a href="https://fastapi.tiangolo.com/async/">FastAPI - Concurrency and async / await</a></p>
<p>雖然使用非常多的 Emoji，閱讀起來有點混亂(xD)，但用很貼近生活的實例來說明，相當值得一讀。</p>
<hr>
<p>前往下集: </p>
<p><a href="https://minglunwu.github.io/notes/2022/fast_api_note_3.html">Fast API 入門筆記 (三) - Query Parameter &amp; Path Parameter</a></p>
    
                    <p class="blog-content__tags">
                        <span>Post Tags</span>
    
                        <span class="blog-content__tag-list">
                             <a href="#0">Fast API</a>
                             <a href="#0">WSGI</a>
                        </span>
    
                    </p>
    
                    <div class="blog-content__pagenav">
                        <div class="blog-content__nav">










































                            <div class="blog-content__prev">
                                <a href="https://minglunwu.com/notes/2021/python_import.html" rel="prev">
                                    <span>Previous Post</span>
                                    告別惱人的Python Import
                                </a>
                            </div>
                            <div class="blog-content__next">
                                <a href="https://minglunwu.com/notes/2021/flask_plus_wsgi.html" rel="next">
                                    <span>Next Post</span>
                                    Flask想上線? 你還需要一些酷東西
                                </a>
                            </div>
                        </div>
    
                        <div class="blog-content__all">
                            <a href="https://minglunwu.com/archives.html" class="btn btn--primary">
                                View All Post
                            </a>
                        </div>
                    </div>
    
                </div><!-- end blog-content__main -->
            </div> <!-- end blog-content -->
    
        </article>
        <script src="https://utteranc.es/client.js"
                repo="MingLunWu/MingLunWu.github.io"
                issue-term="pathname"
                theme="github-dark-orange"
                crossorigin="anonymous"
                async>
        </script>
        <!-- Comment Box 留言系統 - 需要調整位置 -->
        <!-- <div class="commentbox"></div>
        <script src="https://unpkg.com/commentbox.io/dist/commentBox.min.js"></script>
        <script>commentBox('5640802722119680-proj')</script> -->
            <!-- footer
    ================================================== -->
    <footer>
        <div class="row">
            <div class="col-full">

                <div class="footer-logo">
                    <a class="footer-site-logo" href="#0"><img src="https://minglunwu.com/theme/images/logo.png" alt="Homepage"></a>
                </div>
                <ul class="footer-social">
                    <li>
                        <a href="https://www.facebook.com/zebra52000" target="_blank"><i class="im im-facebook" aria-hidden="true"></i><span>Facebook</span></a>
                    </li>
                    <li>
                        <a href="https://minglun-wu.medium.com" target="_blank"><i class="im im-book" aria-hidden="true"></i><span>Medium</span></a>
                    </li>
                    <li>
                        <a href="https://github.com/MingLunWu" target="_blank"><i class="im im-github" aria-hidden="true"></i><span>Github</span></a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/in/%E6%98%8E%E5%80%AB-%E5%90%B3-637020142/" target="_blank"><i class="im im-linkedin" aria-hidden="true"></i><span>LinkedIn</span></a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/fade_relish/" target="_blank"><i class="im im-instagram" aria-hidden="true"></i><span>Instagram</span></a>
                    </li>
                </ul>
                    
            </div>
        </div>

        <div class="row footer-bottom">

            <div class="col-twelve">
                <div class="copyright">
                    <span>© Copyright MingLunWu 2021</span> 
                    <span>Design by <a href="https://www.styleshout.com/">styleshout</a></span>	
                </div>

                <div class="go-top">
                <a class="smoothscroll" title="Back to Top" href="#top"><i class="im im-arrow-up" aria-hidden="true"></i></a>
                </div>
            </div>

        </div> <!-- end footer-bottom -->

    </footer> <!-- end footer -->
    <!-- Java Script
        ================================================== -->
        <script src="https://minglunwu.com/theme/js/jquery-3.2.1.min.js"></script>
        <script src="https://minglunwu.com/theme/js/plugins.js"></script>
        <script src="https://minglunwu.com/theme/js/main.js"></script>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161863471-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-161863471-1');
    </script>
    
</body>