<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Byte and Ink"><meta property="og:type" content="article"><meta property="og:image" content="https://images.unsplash.com/photo-1623479322729-28b25c16b011?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"><meta property="twitter:image" content="https://images.unsplash.com/photo-1623479322729-28b25c16b011?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"><meta name=title content="成為更重視 Code Review 的工程師"><meta property="og:title" content="成為更重視 Code Review 的工程師"><meta property="twitter:title" content="成為更重視 Code Review 的工程師"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta property="twitter:card" content="良好的 Code Review 文化，其實跟良好的溝通一樣，Developer 和 Reviewer 之間需要換位思考，替對方多設想一點，就能讓整個協作流程更順暢"><meta name=keyword content="吳明倫, MingLun, minglunwu"><link rel="shortcut icon" href=/img/favicon.ico><title>成為更重視 Code Review 的工程師 | Byte and Ink</title><link rel=canonical href=/notes/2024/code_review.html/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.css><link rel=stylesheet href=/css/font-awesome.all.min.css><script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js></script>
<script src=/js/hux-blog.min.js></script>
<script src=/js/lazysizes.min.js></script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-NC508K3RBY"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NC508K3RBY",{anonymize_ip:!1})}</script><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=/>Byte and Ink</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/categories/obsidian/>obsidian</a></li><li><a href=/categories/reading-with-ml/>reading-with-ml</a></li><li><a href=/categories/weekly-reflection/>weekly-reflection</a></li><li><a href=/archive/>ARCHIVE</a></li><li><a href=/about/>ABOUT</a></li><li><a href=/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(https://images.unsplash.com/photo-1623479322729-28b25c16b011?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)}.utterances{max-width:100%}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/code title=Code>Code</a>
<a class=tag href=/tags/career title=career>career</a></div><h1>成為更重視 Code Review 的工程師</h1><h2 class=subheading></h2><span class=meta>Posted by
MingLun Allen Wu
on
Sunday, January 21, 2024</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><h2 id=軟體工程師的必修課>軟體工程師的必修課？</h2><p>靠寫程式謀生快五年了，常常聽到 Code Review，但從來沒有特別重視這件事情。</p><p>三個月前開始擔任 Mentor，需要 Review 新成員的 Code，為了避免誤人子弟，花了不少時間尋找 Code Review 的 Best Practice。</p><blockquote><p><strong>請把它們 (Code Review) 當成是必修課吧，這會讓你成為更稱職的軟體研發工程師。</strong></p><p>(<a href=https://william-yeh.net/post/2023/09/on-code-review/>從 Code Review 的小事看到大事 - William Yeh</a>)</p></blockquote><p>看到這段文字後，冷汗直流！原來自己一直忽略了 Code Review 的重要性。</p><p>更嚴重的問題是 : 我該如何開始成為「重視 Code Review 的人」呢？ 腦海中頓時產生許多問題 :</p><ul><li>為什麼要 Code Review ?</li><li>Code Review 就是請其他人來看程式碼嗎 ?</li><li>我該怎麼請人家 Code Review ?</li><li>我該如何 Review 別人的 Code ?</li></ul><p>好多個為什麼 Orz</p><hr><h2 id=為什麼我們該更重視-code-review->為什麼我們該更重視 Code Review ?</h2><p>探索了一段時間後，我覺得 Code Review 的效益可以從兩個面向討論。</p><h3 id=防禦面---避免低級錯誤發生>防禦面 - 避免低級錯誤發生</h3><p>Code Review 是一種 <a href=https://www.unido.org/overview/member-states/change-management/faq/what-four-eyes-principle>Four-eyes Principle (四眼原則)</a> 的體現。</p><p>我認為寫程式有點像是說話，每個人潛意識中會有「習慣的表達方式」，當我們在閱讀這些「理所當然」的內容時，很容易忽略潛在的錯誤。(這一段 Code 不就是這樣嗎 ? 問題不會在這裡出現啦！)</p><p>但這時候如果有其他人閱讀，因為習慣不同，反而會一眼看出不合理的段落，能夠避免自己開發時因為「個人習慣」產生的盲點。</p><p>如果仔細觀察團隊中的 Code Review，應該會發現一件有趣的事情 : <strong>每個人重視、擅長的面向不盡相同</strong>。</p><p>審查同樣的一份程式碼，有些人在 Review 時偏重「效能」，但有些人可能重視的是「流程」，每個人關注的面向都不盡相同，這也意味著 : <strong>在 Code Review 時，每個人都能發揮自己的長處，同時藉由他人的長處來彌補自己的漏洞</strong>。</p><p>同時，對每個團隊成員而言，這也是一個很好的機會去分享「<strong>自己對於「好」的定義</strong>」，舉例來說：我自己在 Review 時，特別著重程式碼的可讀性，如果過程中有產生訊息，這些內容是否對於使用者友善？ 對我來說，這些事情如果做得好，可以大幅降低維運成本。</p><p>換言之，當團隊成員皆重視 Code Review 這件事情時，代表的是<strong>程式碼的各個面向都會有人替你留意</strong>。</p><p>當團隊中的每個成員都在 Code Review 時貢獻「好」的定義，這些標準將會漸漸形塑成團隊的「品質標準」，未來在開發時，除了自己的「標準」外，也會開始考量其他成員的「標準」，漸漸的提升整體的產出品質。</p><hr><h3 id=積極面---提升團隊生產力>積極面 - 提升團隊生產力</h3><p>從積極面的角度來看，Code Review 有助於提升團隊的生產力。</p><p>我在和團隊討論技術相關議題時，常發生一種狀況：在討論太細節的語法或架構時，不論是透過口說、文件、白板呈現，都會因為太抽象，使得有人進入呆滯狀態。</p><p>後來的經驗是 : 討論語法時，直接攤開 Code 來釐清現況，最有效！</p><p>我目前的團隊會在每週一次的會議中，花 10 ~ 15 分鐘的時間進行「團體 Code Review」，每一位成員可以自己挑選「<strong>值得分享的 Pull Request</strong>」，在這個時段進行交流，何謂值得分享呢 ?</p><ul><li>結構複雜的變更</li><li>極大程度改變團隊生態的功能 (例如團隊共用的框架有新功能)</li><li>團隊成員意見矛盾，需要詳細討論</li></ul><p>在這個場合，每個成員都能夠針對不懂的內容發問，作者也能針對較複雜的設計進行解說，從而產生的效益包含：</p><ol><li>降低溝通成本，所有成員都看著同一份 Code，降低討論過程中認知不一致的風險。</li><li>知識傳播會自然發生，新舊成員都能從討論中快速釐清不了解的語法、設計。</li></ol><hr><h2 id=code-review-是-developer-和-reviewer-之間的交流>Code Review 是 Developer 和 Reviewer 之間的交流</h2><p>Code Review 其實是一種溝通，由 Developer 和 Reviewer 兩個角色進行互動。</p><p>在團隊中，每個成員都有機會成為 Developer / Reviewer，如何在溝通過程中，扮演好自己的角色，同時以同理心去替「對方」著想，我認為是 Code Review 能否順利進行的關鍵。</p><hr><h3 id=developer-可以做什麼->Developer 可以做什麼 ?</h3><h4 id=1---developer-應該要提供-reviewer-適當的-context>1 - Developer 應該要提供 Reviewer 適當的 Context</h4><p>過往自己在提交變更時，對於變更的標題、PR Description 常常敷衍了事、隨便亂寫，然後就請其他成員幫我 Review，最常得到兩種回應 : 橡皮圖章般的 Approve (沒有任何回饋，甚至根本沒有看)、石沈大海 (過了一週還是沒人來看)。</p><p>為什麼這樣的 Review 請求似乎不容易得到 Reviewer 的關注呢 ?</p><p><strong>當 Developer 沒有提供適當的 Context 時，等於是要求 Reviewer 自己扛起找資訊的責任。</strong></p><p>為什麼這麼說呢 ? 通常在提交變更時，Developer 應該要提供相關資訊給 Reviewer，例如:</p><ul><li>此次變更包含了哪些改動?</li><li>因為遇到什麼問題，所以提出這些變動。</li><li>此次變動的 Entrypoint 在哪裡?</li></ul><p>當 Reviewer 從描述中掌握這些資訊，從某種層面來說，就能夠理解「<strong>Developer 寫這段 Code 時在想什麼</strong>」，我自己覺得當我站在 Developer 的角度 Review 時，能夠更快的掌握這段 Code 在做什麼，同時也能從自己的角度給予解決問題的建議。</p><p>在 Review 其他人的 Code 時，對方是否有提供基本資訊，會極大程度的影響我 Review 的意願，畢竟如果你自己沒有提供資訊，<strong>為什麼其他人要投入自己寶貴的開發時間，從你的程式碼中來「解讀」你要做什麼呢?</strong></p><p>具體來說，Developer 在提交變更時，應該要包含哪些資訊呢？ Google 內部的 <a href=https://github.com/google/eng-practices/blob/master/review/developer/cl-descriptions.md>Code Review 準則</a> 是個不錯的參考指南。</p><hr><h4 id=2---developer-應妥善管理-review-的內容規模>2 - Developer 應妥善管理 Review 的內容規模</h4><p>Developer 在請求他人 Review Code 時，需要把這件事對 Reviewer 的「認知負荷」考慮進去。</p><p>提交變更時，該如何決定 Pull Request 的範圍 ? 一個獨立且完整（而且巨大）的 Pull Request 比較好，還是數個小型且獨立的 Pull Request 比較好呢 ?</p><p>我覺得在工作時，一段「連續的專注時間」是相當稀缺的資源，需要「專注力」、「體力」、「外部干擾」這三件事情同時具備，才可能發生。</p><p>當 Developer 提交了一個巨大的變更，需要 Reviewer 花費一小時 Review，此時 Developer 是不能期待馬上獲得回饋的，因為在工作時擁有「完整且不被打擾的一小時」是很不容易的，就算有，為什麼對方要把這個珍貴的時間留給你呢？</p><p>相對的，如果將 PR 規模縮小成十五分鐘就能看完，狀況可能就會好多了，因為 <strong>「四個專注的 15 分鐘」遠比「一個專注的 60 分鐘」容易取得。</strong></p><p>如果希望從 Reviewer 中得到有效的回饋，先試著檢視自己提交的 Code 規模是否恰當吧！</p><hr><h3 id=reviewer-可以做什麼->Reviewer 可以做什麼 ?</h3><h4 id=1---code-review-的本質是讓-codebase-的整體品質越來越好>1 - Code Review 的本質是讓 Codebase 的整體品質越來越好</h4><p>Reviewer 在進行 Code Review 時，需要將這個大原則謹記在心 :</p><blockquote><p><strong>Code Review 的本質是讓 Codebase 的整體品質越來越好</strong></p></blockquote><p>在 Review 時，是不會有「完全符合自己要求」的變更的！(如果有，那應該是你自己寫的)，面對跟自己想法不同的 Code 時，該如何應對呢 ?</p><p><strong>只要這段內容有確實提升整體 Codebase 品質，Reviewer 就應該傾向接受。</strong></p><p>在遵循這個大原則的前提下，基本上只有當架構或流程有錯誤，或是會影響到其他功能，才會阻止我按下 Approve 按鈕。</p><p>但是在 Review 過程中，總是會出現「欸！這功能我覺得可以這樣寫」的時刻，這時候我覺得另外一個建議很受用 : <strong>在 Review 時，可以適當的分級，讓 Developer 能一眼看出哪些評論需要修正、哪些則是單純的建議。</strong></p><p>我事先跟團隊成員溝通過，在 Review 中如果看到我用 <code>Nit:</code> (<code>Nitpick: 吹毛求疵</code>) 開頭的評論，代表這個評論 Developer 不需要進行對應的修正，通常我會在一些場合使用 :</p><ul><li>看到陌生的語法，想要詢問作者時</li><li>Coding style 的建議</li><li>在 Code 中看到其他可發展的功能，想找人討論時</li></ul><p>過往在 Review 時，其實只是想拋出某些想法交流，但容易被 Developer 解讀成「雞蛋裡挑骨頭」，是在拖慢開發的進度。</p><p>透過適當的分級，能讓 Developer 更明確的掌握後續的修正方式，在不影響到 Developer 的前提下，Code Review 就能成為團隊成員交流程式想法的最佳媒介。</p><hr><h4 id=2---reviewer-需要特別關注-response-time-而不是-review-time>2 - Reviewer 需要特別關注 Response Time 而不是 Review Time</h4><p>過去在接受到同事的 Code Review 請求時，其實心中默默地將這件事放在很低的順位。</p><p>但是在"<a href=https://google.github.io/eng-practices/review/reviewer/speed.html>Speed of Code Reviews</a>&ldquo;這篇文章中，提到了一個概念：“<strong>除非你正專注在某一項特定任務，否則當你收到 Code Review 請求時，應該要在一個工作天內回覆。</strong>”</p><p>為什麼是一個工作天？ 如果在收到 Code Review 請求的當天，工作真的非常忙碌，沒問題，至少在下一個工作天的一開始，Reviewer 可以優先安排 Review。</p><p>看到這篇文章時，默默地檢討了自己，當 Reviewer 回應 Code Review 的時間低落時，其實會影響到整個團隊的開發進度。如果換位思考，以 Developer 身份提交的 Code，其實也希望能在最快的時間得到 Reviewer 的回饋。</p><p>值得特別注意的是: 要優先關注的應該是 <strong>&ldquo;Response Time&rdquo;</strong> 而不是 <strong>&ldquo;Review Time&rdquo;</strong>。</p><p><strong>&ldquo;Response Time&rdquo;</strong> 意味著回應 Developer 的時間，當 <strong>&ldquo;Response Time&rdquo;</strong> 過長時，容易讓 Developer 無所適從，不知道何時才會得到回饋。如果手邊正在進行重要任務，可以在第一時間告知 Developer : &ldquo;「<em>Hi，我這陣子有任務在身，可能兩天後才有空 Review，你要不要先找別人？</em>」&rdquo;</p><p>至於 <strong>&ldquo;Review Time&rdquo;</strong> 的長短，我認為更多取決於 Code 的規模，這反倒是 Developer 應該要關注的 (見上節)。</p><hr><h2 id=良好的-code-review-文化---站在對方的角度思考>良好的 Code Review 文化 - 站在對方的角度思考</h2><p>如果我們回顧一下 Developer 和 Reviewer 可以做的事情以及背後的目的：</p><table><thead><tr><th style=text-align:center>原則</th><th style=text-align:center>目的</th></tr></thead><tbody><tr><td style=text-align:center><strong>Developer 應該要提供 Reviewer 適當的 Context</strong></td><td style=text-align:center>讓 Reviewer 能掌握基本資訊，專注在 Review Code 即可。</td></tr><tr><td style=text-align:center><strong>Developer 應妥善管理 Review 的內容規模</strong></td><td style=text-align:center>降低 Reviewer 的認知負荷，提升回饋的頻率與品質。</td></tr><tr><td style=text-align:center><strong>Code Review 的本質是讓 Codebase 的整體品質越來越好</strong></td><td style=text-align:center>不做無意義的 Comment，讓 Developer 得到明確的修正方式。</td></tr><tr><td style=text-align:center><strong>Reviewer 需要特別關注 Response Time 而不是 Review Time</strong></td><td style=text-align:center>讓 Developer 能快速得到回饋，從而提升團隊的開發效率。</td></tr></tbody></table><p>看到此處，你可能會有種感覺：</p><p><strong>良好的 Code Review 文化，其實跟良好的溝通一樣，Developer 和 Reviewer 之間需要換位思考，替對方多設想一點，就能讓整個協作流程更順暢。</strong></p><hr><h2 id=結語>結語</h2><p>在尋找 Best Practice 的過程中，看到一些很棒的心法，實際套用在工作後，覺得非常有感，希望透過這篇筆記，分享給更多團隊成員。</p><p>附上一些在過程中很棒的參考文章 :</p><ul><li><a href=https://william-yeh.net/post/2023/09/on-code-review/>從 Code Review 的小事看到大事</a></li><li><a href=https://google.github.io/eng-practices/>Google Engineering Practices Documentation</a></li><li><a href=https://enginebai.medium.com/code-review-guidelines-b76a859c377c>如何進行 Code Review?</a></li></ul><p>謝謝你的閱讀，如果對於 Code Review 有不同的看法，也歡迎留言交流！</p><p>我們下次見。</p><hr><ul class=pager><li class=previous><a href=/notes/2024/obsidian_2.html/ data-toggle=tooltip data-placement=top title="Obsidian 入坑指南 #2 : 認識 Vault & 跨裝置同步">&larr;
Previous Post</a></li><li class=next><a href=/notes/2024/dopamin_nation.html/ data-toggle=tooltip data-placement=top title="【 Reading with ML - 01 】多巴胺國度：在縱慾時代找到身心平衡">Next
Post &rarr;</a></li></ul><hr><div><h2>See Also</h2><div class=card><div class=card-content style=padding:2px><a class="title is-5" href=https://minglunwu.com/notes/2024/presentation_review.html/>從分享中成長：我的2024年演講復盤與反思</a>
<span class=heading><time>(December 13, 2024)</time></span></div></div><div class=card><div class=card-content style=padding:2px><a class="title is-5" href=https://minglunwu.com/notes/2025/work_journal.html/>工作日誌真的有用嗎？知識工作者如何透過紀錄提升專注力</a>
<span class=heading><time>(February 27, 2025)</time></span></div></div><div class=card><div class=card-content style=padding:2px><a class="title is-5" href=https://minglunwu.com/notes/2024/obsidian_5.html/>Obsidian 入坑指南 #5 : 認識 Core Plugin (上)</a>
<span class=heading><time>(October 26, 2024)</time></span></div></div></div><hr><script src=https://utteranc.es/client.js repo=MingLunWu/MingLunWu.github.io issue-term=title theme=github-light crossorigin=anonymous async></script><hr><iframe src=https://minglunwu.substack.com/embed width=100% height=320 style="border:1px solid #eee;background:#fff" frameborder=0 scrolling=no></iframe></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=/tags/>FEATURED TAGS</a></h5><div class=tags><a href=/tags/ansible title=ansible>ansible</a>
<a href=/tags/book title=book>book</a>
<a href=/tags/career title=career>career</a>
<a href=/tags/cloud title=cloud>cloud</a>
<a href=/tags/concept title=concept>concept</a>
<a href=/tags/fast-api title=fast-api>fast-api</a>
<a href=/tags/fast-api-tutorial title=fast-api-tutorial>fast-api-tutorial</a>
<a href=/tags/music title=music>music</a>
<a href=/tags/note title=note>note</a>
<a href=/tags/pytest-101 title=pytest-101>pytest-101</a>
<a href=/tags/python title=python>python</a>
<a href=/tags/test title=test>test</a>
<a href=/tags/thought title=thought>thought</a>
<a href=/tags/tool title=tool>tool</a>
<a href=/tags/wsgi title=wsgi>wsgi</a></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:alen6997535@gmail.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/minglunwu><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/ming-lun-wu-637020142/><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://medium.com/@minglun-wu><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-medium fa-stack-1x fa-inverse"></i></span></a></li><li><a href rel=alternate type=application/rss+xml title="Byte and Ink"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; Byte and Ink 2025<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>